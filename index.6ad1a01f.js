!function(){var e,t=function(e){return e.map((function(e){var t=e.genre_ids.map((function(e){return e.name})).join(", ");return'<div class="movie-card" data-id="'.concat(e.id,'">\n            <img\n              src="https://image.tmdb.org/t/p/w500/').concat(e.poster_path,'"\n              alt="').concat(t,'"\n              loading="lazy"\n            />\n            <div class="info">\n              <p class="movie__title">').concat(e.original_title,'</p> <p class="movie__genres">').concat(t,"</p>\n            </div>\n          </div>")})).join("")};(e="https://api.themoviedb.org/3/trending/movie/day?api_key=".concat("64cb7e9375c055230d64b013c4bca79f"),fetch(e).then((function(e){return e.ok?e.json():(420===e.status?console.error("Error: Too many request to API."):console.error("Error: Failed to fetch data from API. Status code:",e.status),Promise.reject(new Error(e.status)))})).catch((function(e){return console.error(e),Promise.reject(new Error("An error occured while fetching the data."))}))).then((function(e){var o=t(e.results);document.getElementById("main").innerHTML=o})).catch((function(e){console.error(e)}));var o=function(e){var t="https://api.themoviedb.org/3/search/movie?api_key=".concat("64cb7e9375c055230d64b013c4bca79f","&language=en-US&query=").concat(e,"&page=1&include_adult=false");return fetch(t).then((function(e){return e.ok?e.json():(429===e.status?console.error("Error: Too many requests to API."):console.error("Error: Failed to fetch data from API. Status code:",e.status),Promise.reject(new Error(e.status)))})).catch((function(e){return console.error(e),Promise.reject(new Error("An error occurred while fetching the data."))}))},n=function(){var e=document.getElementById("search").value.trim();o(e).then((function(e){var o=t(e.results);document.getElementById("main").innerHTML=o,document.querySelectorAll(".movie-card").forEach((function(e){e.addEventListener("click",(function(){console.log(e)}))}))})).catch((function(e){console.error("Error:",e)}))};document.getElementById("button").addEventListener("click",n);var r=function(e){var t="https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat("64cb7e9375c055230d64b013c4bca79f");return fetch(t).then((function(e){return e.ok?e.json():(429===e.status?console.error("Error: Too many requests to API."):console.error("Error: Failed to fetch data from API. Status code:",e.status),Promise.reject(new Error(e.status)))})).catch((function(e){return console.error(e),Promise.reject(new Error("An error occurred while fetching the data."))}))},a=function(e,t){var o=localStorage.getItem("user"),n={};o&&(n=JSON.parse(o)),n[t]||(n[t]=[]),n[t].includes(e)||n[t].push(e),localStorage.setItem("user",JSON.stringify(n))},c=function(){document.querySelector(".backdrop").remove(),document.body.classList.remove("overflow-off")},i=function(e){var t=e.genres.map((function(e){return e.name})).join(", ");return"\n    <div class='modal'>\n        <button class='modal__button modal__button--close' id='modal__close'>\n            x\n        </button>\n        <img class=\"modal__img\" src=\"https://image.tmdb.org/t/p/w500//".concat(e.poster_path,'" />\n        <div class="modal__content">\n            <h2 class="modal__title">').concat(e.original_title,'</h2>\n            <ul class="modal__list">\n                <li class="modal__item">\n                    <p class="modal__item--label grey">Vote / Votes</p>\n                    <div class="modal__item--vote">\n                        <p class="modal__item--value modal__item--value--vote">\n                            <vote_average>\n                                ').concat(e.vote_average.toFixed(1),"\n                            </vote_average>\n                            /\n                            <vote__count>\n                                ").concat(e.vote_count,'\n                            </vote__count>\n                        </p>\n                    </div>\n                <li>\n                <li class="modal__item">\n                    <p class="modal__item--label grey">Popularity</p>\n                    <p class="modal__item--value">').concat(e.popularity.toFixed(1),'</p>\n                <li>\n                <li class="modal__item">\n                    <p class="modal__item--label grey">Original Title</p>\n                    <p class="modal__item--value big">').concat(e.original_title,'</p>\n                <li>\n                <li class="modal__item">\n                    <p class="modal__item--label grey">Genre</p>\n                    <p class="modal__item--value">').concat(t,'</p>\n                <li>\n            </ul>\n            <div class="modal__overview">\n                <h3 class="modal__overview--about">ABOUT</h3>\n                <p class="modal__overview--overview">').concat(e.overview,'</p>\n            </div>\n        <div class="modal__buttons">\n            <button id="watched" class="modal__button modal__button--watched">Add to watched</button>\n            <button id="queue" class="modal__button modal__button--queue">Add to queue</button>\n        </div>\n    </div>\n    ')};document.querySelector("#main").addEventListener("click",(function(e){if(e.target.closest(".movie-card")){var t=document.createElement("div");t.classList.add("backdrop");var o=e.target.closest(".movie-card").getAttribute("data-id");r(o).then((function(e){t.innerHTML=i(e),document.body.appendChild(t),document.body.classList.add("overflow-off");var n=document.querySelector("#modal__close"),r=document.getElementById("watched"),l=document.getElementById("queue");r.addEventListener("click",(function(){return a(o,"watched")})),l.addEventListener("click",(function(){return a(o,"queue")})),n.addEventListener("click",c)})).catch((function(e){console.error(e)}))}}))}();
//# sourceMappingURL=index.6ad1a01f.js.map
